(self.webpackChunkmycrypto=self.webpackChunkmycrypto||[]).push([[8493],{8493:(e,n,o)=>{"use strict";o.r(n),o.d(n,{EditPageModule:()=>g});var t=o(8583),i=o(665),l=o(7143),a=o(1323);const r=(0,o(8384).fo)("Browser",{web:()=>o.e(6764).then(o.bind(o,6764)).then(e=>new e.BrowserWeb)});var s=o(8720),c=o(7982);function d(e,n){1&e&&(s.TgZ(0,"p"),s._uU(1,"Please enter the symbol to unlock the buy option"),s.qZA())}function h(e,n){if(1&e){const e=s.EpF();s.TgZ(0,"div",12),s.TgZ(1,"h2",13),s._uU(2,"Buy:"),s.qZA(),s.TgZ(3,"ion-chip",14),s.NdJ("click",function(){return s.CHM(e),s.oxw().openBinance()}),s._UZ(4,"ion-icon",15),s.TgZ(5,"ion-label"),s._uU(6,"Binance"),s.qZA(),s.qZA(),s.TgZ(7,"ion-chip",14),s.NdJ("click",function(){return s.CHM(e),s.oxw().openFtx()}),s._UZ(8,"ion-icon",15),s.TgZ(9,"ion-label"),s._uU(10,"FTX"),s.qZA(),s.qZA(),s.TgZ(11,"ion-chip",14),s.NdJ("click",function(){return s.CHM(e),s.oxw().openCoinbase()}),s._UZ(12,"ion-icon",15),s.TgZ(13,"ion-label"),s._uU(14,"Coinbase"),s.qZA(),s.qZA(),s.TgZ(15,"ion-chip",14),s.NdJ("click",function(){return s.CHM(e),s.oxw().openBitpanda()}),s._UZ(16,"ion-icon",15),s.TgZ(17,"ion-label"),s._uU(18,"Bitpanda"),s.qZA(),s.qZA(),s.YNc(19,d,2,0,"p",16),s.qZA()}if(2&e){const e=s.oxw();s.xp6(3),s.Q6J("disabled",e.isEmptySymbol)("color","binance"==(null==e.model?null:e.model.exchange.toLowerCase())?"primary":""),s.xp6(4),s.Q6J("disabled",e.isEmptySymbol)("color","ftx"==(null==e.model?null:e.model.exchange.toLowerCase())?"primary":""),s.xp6(4),s.Q6J("disabled",e.isEmptySymbol)("color","coinbase"==(null==e.model?null:e.model.exchange.toLowerCase())?"primary":""),s.xp6(4),s.Q6J("disabled",e.isEmptySymbol)("color","bitpanda"==(null==e.model?null:e.model.exchange.toLowerCase())?"primary":""),s.xp6(4),s.Q6J("ngIf",e.isEmptySymbol)}}const m=[{path:"",component:(()=>{class e{constructor(e,n,o){this.activatedRoute=e,this.router=n,this.holdingsService=o,this.doValidate=!1,this.model={_key:null,symbol:"",amount:null,exchange:"",owner:null},this.key=this.activatedRoute.snapshot.paramMap.get("key"),!this.isNewRecord&&this.holdingsService.getByKey(this.key).then(e=>{this.holding=e,this.model=this.holding}).catch(e=>this.router.navigate(["/ui/home"]))}ngOnInit(){}get errors(){return{symbol:this.doValidate&&0==this.model.symbol.trim().length,amount:this.doValidate&&(this.model.amount<0||null==this.model.amount),exchange:this.doValidate&&0==this.model.exchange.trim().length}}get isNewRecord(){return null===this.key}get isEmptySymbol(){return 0==this.model.symbol.length}onChangeSymbol(){this.model.symbol=this.model.symbol.toUpperCase().replace(" ","")}onChangeAmount(){this.model.amount=this.model.amount<0?0:this.model.amount}isValid(){for(const e in this.errors)if(this.errors[e])return!1;return!0}save(){this.doValidate=!0,this.isValid()&&(this.isNewRecord?this.holdingsService.create(this.model):this.holdingsService.update(this.key,this.model),this.router.navigate(["/ui/home"]))}openBinance(){this.isNewRecord&&(this.model.exchange="Binance"),this.openBrowser(`https://www.binance.com/en/trade/${this.model.symbol}_USDT`)}openFtx(){this.isNewRecord&&(this.model.exchange="FTX"),this.openBrowser(`https://ftx.com/trade/${this.model.symbol}/USDT`)}openCoinbase(){this.isNewRecord&&(this.model.exchange="Coinbase"),this.openBrowser(`https://pro.coinbase.com/trade/${this.model.symbol}-USDT`)}openBitpanda(){this.isNewRecord&&(this.model.exchange="Bitpanda"),this.openBrowser(`https://exchange.bitpanda.com/${this.model.symbol}_USDT`)}openBrowser(e){r.open({url:e})}}return e.\u0275fac=function(n){return new(n||e)(s.Y36(a.gz),s.Y36(a.F0),s.Y36(c.l))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-edit"]],decls:25,vars:9,consts:[["slot","start"],["defaultHref","/ui/home"],[3,"scrollY"],[1,"edit__container"],[1,"edit__form"],["position","stacked"],["name","symbol","type","text","inputmode","text","required","true","placeholder","BTC","autocomplete","off","spellcheck","false","maxlength","10",3,"ngModel","color","ngModelChange","ionChange","change"],["name","amount","type","number","inputmode","decimal","required","true","min","0","step","0.5","placeholder","1.0","autocomplete","off",3,"ngModel","color","ngModelChange","ionChange","change"],["name","exchange","type","text","inputmode","text","required","true","placeholder","Binance","autocomplete","off","spellcheck","false","maxlength","100",3,"ngModel","color","ngModelChange"],["class","buy__container",4,"ngIf"],[1,"edit__submit","mt-4"],["expand","block",3,"click"],[1,"buy__container"],[1,"buy__label"],[3,"disabled","color","click"],["name","cart"],[4,"ngIf"]],template:function(e,n){1&e&&(s.TgZ(0,"ion-header"),s.TgZ(1,"ion-toolbar"),s.TgZ(2,"ion-buttons",0),s._UZ(3,"ion-back-button",1),s.qZA(),s.TgZ(4,"ion-title"),s._uU(5),s.qZA(),s.qZA(),s.qZA(),s.TgZ(6,"ion-content",2),s.TgZ(7,"div",3),s.TgZ(8,"div",4),s.TgZ(9,"ion-item"),s.TgZ(10,"ion-label",5),s._uU(11,"Currency Symbol"),s.qZA(),s.TgZ(12,"ion-input",6),s.NdJ("ngModelChange",function(e){return n.model.symbol=e})("ionChange",function(){return n.onChangeSymbol()})("change",function(){return n.onChangeSymbol()}),s.qZA(),s.qZA(),s.TgZ(13,"ion-item"),s.TgZ(14,"ion-label",5),s._uU(15,"Amount"),s.qZA(),s.TgZ(16,"ion-input",7),s.NdJ("ngModelChange",function(e){return n.model.amount=e})("ionChange",function(){return n.onChangeAmount()})("change",function(){return n.onChangeAmount()}),s.qZA(),s.qZA(),s.TgZ(17,"ion-item"),s.TgZ(18,"ion-label",5),s._uU(19,"Exchange"),s.qZA(),s.TgZ(20,"ion-input",8),s.NdJ("ngModelChange",function(e){return n.model.exchange=e}),s.qZA(),s.qZA(),s.qZA(),s.YNc(21,h,20,9,"div",9),s.qZA(),s.TgZ(22,"div",10),s.TgZ(23,"ion-button",11),s.NdJ("click",function(){return n.save()}),s._uU(24,"Save"),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.xp6(5),s.Oqu(n.isNewRecord?"New Holding":"Edit "+(null==n.holding?null:n.holding.symbol)),s.xp6(1),s.Q6J("scrollY",!1),s.xp6(6),s.Q6J("ngModel",n.model.symbol)("color",n.errors.symbol?"danger":""),s.xp6(4),s.Q6J("ngModel",n.model.amount)("color",n.errors.amount?"danger":""),s.xp6(4),s.Q6J("ngModel",n.model.exchange)("color",n.errors.exchange?"danger":""),s.xp6(1),s.Q6J("ngIf",n.isNewRecord))},directives:[l.Gu,l.sr,l.Sm,l.oU,l.cs,l.wd,l.W2,l.Ie,l.Q$,l.pK,l.j9,i.Q7,i.nD,i.JJ,i.On,l.as,t.O5,l.YG,l.hM,l.gu],styles:[".edit__container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .edit__container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .edit__container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .edit__container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-inline-start:12px;padding-inline-end:12px}.buy__container[_ngcontent-%COMP%]{margin-top:2.5rem}.buy__container[_ngcontent-%COMP%]   ion-chip[_ngcontent-%COMP%]{margin-inline-start:12px;margin-inline-end:12px}.edit__submit[_ngcontent-%COMP%]{position:absolute;bottom:0;padding:0 12px;width:100vw;margin-bottom:10px}"]}),e})()}];let u=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[a.Bz.forChild(m)],a.Bz]}),e})(),g=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[t.ez,i.u5,l.Pc,u]]}),e})()}}]);